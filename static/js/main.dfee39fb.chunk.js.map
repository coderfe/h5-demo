{"version":3,"sources":["components/MovieSetItem.js","libs/Tag.js","App.js","index.js"],"names":["MovieSetItem","props","movie","onClick","during","className","time","type","price","Tag","label","tags","movies","key","selected","initialSeats","res","i","id","status","includes","config","mass","tension","friction","App","useState","isActive","setActive","toggle","set","seatTotal","setSeatTotal","priceTotal","setPriceTotal","seats","setSeats","show","setShow","trail","useTrail","length","opacity","x","from","height","gotoDetail","e","setTimeout","onClose","map","tag","style","marginTop","textAlign","lineHeight","state","index","rest","div","transform","interpolate","items","enter","leave","position","top","left","width","color","fontSize","cursor","t","viewBox","version","xmlns","p-id","d","fill","Object","keys","seat","target","handleSelected","toFixed","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dfee39fb.chunk.js","sourcesContent":["import React from 'react';\nimport Ripples from 'react-ripples';\n\nexport const MovieSetItem = (props) => {\n  const { movie, onClick } = props;\n  return (\n    <>\n      <Ripples during={1800}>\n        <div className=\"MovieSetItem\" onClick={onClick}>\n          <span className=\"MovieTime\">{movie.time}</span>\n          <span className=\"MovieType\">{movie.type}</span>\n          <span className=\"MoviePrice\">${movie.price}</span>\n        </div>\n      </Ripples>\n    </>\n  );\n};\n","import React from 'react';\n\nimport './Tag.css';\n\nexport const Tag = (props) => <div className=\"Tag\">{props.label}</div>;\n","import React, { useState } from 'react';\nimport Ripples from 'react-ripples';\nimport { useTrail, animated } from 'react-spring';\nimport { Transition } from 'react-spring/renderprops';\nimport './App.css';\nimport { MovieSetItem } from './components/MovieSetItem';\nimport { Tag } from './libs/Tag';\n\nconst tags = ['plot', 'moonlight'];\nconst movies = [\n  {\n    time: '18:00',\n    type: '3D',\n    price: 9.9,\n    key: 0,\n  },\n  {\n    time: '20:00',\n    type: '3D',\n    price: 9.9,\n    key: 1,\n  },\n  {\n    time: '22:20',\n    type: '3D',\n    price: 9.9,\n    key: 2,\n  },\n  {\n    time: '23:50',\n    type: '3D',\n    price: 9.9,\n    key: 3,\n  },\n];\nconst selected = [24, 25, 26, 62, 63, 38, 34];\nconst initialSeats = () => {\n  const res = {};\n  for (let i = 0; i < 64; i++) {\n    res[i] = {\n      id: i,\n      status: selected.includes(i) ? 'selected' : 'available',\n    };\n  }\n  return res;\n};\n\nconst config = { mass: 6, tension: 2000, friction: 300 };\n\nfunction App() {\n  const [isActive, setActive] = useState(false);\n  const [toggle, set] = useState(false);\n  const [seatTotal, setSeatTotal] = useState(0);\n  const [priceTotal, setPriceTotal] = useState(0);\n  const [seats, setSeats] = useState(initialSeats());\n  const [show, setShow] = useState(false);\n\n  const trail = useTrail(movies.length, {\n    config,\n    opacity: toggle ? 1 : 0,\n    x: toggle ? 0 : 30,\n    from: { opacity: 0, x: 30, height: 0 },\n  });\n\n  const onClick = () => {\n    setActive(!isActive);\n    set((state) => !state);\n  };\n\n  const handleSelected = (key) => {\n    const target = seats[key];\n    if (target.status === 'selected') return;\n    const status = target.status === 'your' ? 'available' : 'your';\n    setSeats({\n      ...seats,\n      [key]: {\n        target,\n        status,\n      },\n    });\n    if (target.status === 'available') {\n      setSeatTotal(seatTotal + 1);\n      setPriceTotal(priceTotal + 9.9);\n    } else {\n      setSeatTotal(seatTotal - 1);\n      setPriceTotal(priceTotal - 9.9);\n    }\n  };\n\n  const gotoDetail = (e) => {\n    setTimeout(() => {\n      setShow(true);\n    }, 300);\n  };\n\n  const onClose = () => {\n    setShow(!show);\n    setPriceTotal(0);\n    setSeatTotal(0);\n    setSeats(initialSeats());\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"Movie\">\n        <h1 className=\"MovieName\">Moonlight</h1>\n        <p className=\"MovieDuration\">1hr 50min</p>\n        <div>\n          {tags.map((tag) => (\n            <Tag key={tag} label={tag} />\n          ))}\n        </div>\n        <h2 style={{ marginTop: '48px' }}>Sorylint</h2>\n        <p style={{ textAlign: 'justify', lineHeight: 1.2 }}>\n          The film was announced in October 2014 as Avengers: Infinity War â€“\n          Part 2, but Marvel later removed this title. The Russo brothers joined\n          as directors in April 2015, with Markus and McFeely signing on to\n          write the script a month later....\n        </p>\n      </div>\n      <div className={`MovieAction ${isActive ? 'active' : ''}`}>\n        <div className=\"MovieActionBuyNow\">\n          <Ripples onClick={onClick}>buy now</Ripples>\n        </div>\n        <div className=\"MovieSet\">\n          {trail.map(({ x, height, ...rest }, index) => (\n            <animated.div\n              key={movies[index].key}\n              style={{\n                ...rest,\n                transform: x.interpolate((x) => `translate3d(0,${x}px,0)`),\n              }}\n            >\n              <MovieSetItem onClick={gotoDetail} movie={movies[index]} />\n            </animated.div>\n          ))}\n        </div>\n      </div>\n      <Transition\n        items={show}\n        from={{ opacity: 0, transform: 'translateY(100%)' }}\n        enter={{ opacity: 1, transform: 'translateY(0)' }}\n        leave={{ opacity: 1, transform: 'translateY(100%)' }}\n      >\n        {(show) =>\n          show &&\n          ((props) => (\n            <div style={props} className=\"MovieDetail\">\n              <div\n                style={{\n                  position: 'absolute',\n                  top: 34,\n                  left: 24,\n                  width: 20,\n                  height: 20,\n                  color: '#fff',\n                  fontSize: 24,\n                  cursor: 'pointer',\n                }}\n                onClick={onClose}\n              >\n                <svg\n                  t=\"1587821013450\"\n                  className=\"icon\"\n                  viewBox=\"0 0 1024 1024\"\n                  version=\"1.1\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  p-id=\"1895\"\n                  width=\"20\"\n                  height=\"20\"\n                >\n                  <path\n                    d=\"M395.21518 513.604544l323.135538-312.373427c19.052938-18.416442 19.052938-48.273447 0-66.660212-19.053961-18.416442-49.910737-18.416442-68.964698 0L291.75176 480.290811c-19.052938 18.416442-19.052938 48.273447 0 66.660212l357.633237 345.688183c9.525957 9.207709 22.01234 13.796214 34.497699 13.796214 12.485359 0 24.971741-4.588505 34.466999-13.82896 19.052938-18.416442 19.052938-48.242747 0-66.660212L395.21518 513.604544z\"\n                    p-id=\"1896\"\n                    fill=\"#ffffff\"\n                  ></path>\n                </svg>\n              </div>\n              <div className=\"title\">\n                Moonlight\n                <p className=\"subtitle\">18:00 - 20:00</p>\n              </div>\n              <div className=\"line\"></div>\n              <div className=\"seats\">\n                {Object.keys(seats).map((key) => {\n                  const seat = seats[key];\n                  return (\n                    <div\n                      onClick={() => handleSelected(key)}\n                      className={`seat ${seat.status}`}\n                      key={key}\n                    />\n                  );\n                })}\n              </div>\n              <div className=\"desc\">\n                <div>\n                  <div className=\"seat selected\"></div>\n                  <p className=\"seat-desc\">Selected</p>\n                </div>\n                <div>\n                  <div className=\"seat available\"></div>\n                  <p className=\"seat-desc\">Available</p>\n                </div>\n                <div>\n                  <div className=\"seat your\"></div>\n                  <p className=\"seat-desc\">Your seat</p>\n                </div>\n              </div>\n              <div className=\"total\">\n                <span style={{ fontSize: '16px' }}>{seatTotal} seats</span>\n                <span style={{ fontSize: '24px' }}>\n                  ${priceTotal.toFixed(2)}\n                </span>\n              </div>\n            </div>\n          ))\n        }\n      </Transition>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}